(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6115)}])},6115:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return en}});var n=r(5893),a=r(9008),i=r.n(a),s=r(3156),o=r(5861),l=r(5616),d=r(948);let x=(0,d.ZP)(o.Z)(()=>({marginBottom:"35px",marginTop:"63px",fontSize:"36px"}));x.defaultProps={variant:"h1"};let c=(0,d.ZP)(o.Z)(()=>({marginBottom:"14px",fontSize:"22px"}));c.defaultProps={variant:"h2"};let p=(0,d.ZP)("fieldset")(()=>({display:"inline-flex",flexWrap:"wrap",flexDirection:"row",gap:"16px",marginBottom:"35px",justifyContent:"center",alignItems:"center",border:"none"})),h=(0,d.ZP)(l.Z)(()=>({display:"flex",flexDirection:"column"}));var u=r(7294),m=r(5675),j=r.n(m);let f=(0,d.ZP)(j())(()=>({borderRadius:"7px",marginBottom:"7px"})),g=(0,d.ZP)("div")(()=>({padding:"6px",cursor:"pointer",border:"1px solid transparent","&:hover":{border:"1px solid #10782E"},boxShadow:"0px 4px 4px 0px rgba(0, 0, 0, 0.25)",borderRadius:"7px"})),Z=(0,d.ZP)("input")(()=>({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px","&:checked + div":{border:"1px solid #000"},"&:focus + div":{border:"1px solid #000"}}));var v=e=>{let{id:t,name:r,value:a,checked:i,labelText:s,imageUrl:l,onChange:d}=e;return(0,n.jsxs)("label",{htmlFor:t,children:[(0,n.jsx)(Z,{type:"radio",id:t,name:r,value:a,checked:i,onChange:d}),(0,n.jsxs)(g,{"data-testid":"card-".concat(t),children:[(0,n.jsx)(f,{src:l,width:137,height:99,alt:s}),(0,n.jsx)(o.Z,{variant:"subtitle1",children:s})]})]})},w=r(5007),b=r(6979),P=()=>{let e=(0,w.v9)(b.FC),t=(0,w.v9)(b.MO),r=(0,w.I0)(),a=t=>{r((0,b.Yf)(t.target.value)),r((0,b.wt)(!0)),r((0,b.uj)(""));let n=t.target.value,a=e.filter(e=>e.id!==n),i=Math.random()*a.length,s=a[Math.floor(i)].id;setTimeout(()=>{r((0,b.QO)(s)),r((0,b.wt)(!1))},1e3)},i=0===e.length;return(0,n.jsxs)(h,{children:[(0,n.jsx)(x,{children:"Battle of Monsters"}),(0,n.jsx)(c,{children:i?"Loading...":"Select your monster"}),(0,n.jsx)(p,{children:e.map(e=>{let{id:r,name:i,imageUrl:s}=e;return(0,n.jsx)(v,{id:r,name:"monsterList",value:r,labelText:i,checked:t===r,imageUrl:s,onChange:a},r)})})]})},y=r(9417);let B=(0,d.ZP)(l.Z)(()=>({display:"inline-flex",flexWrap:"wrap",flexDirection:"row",gap:"25px",marginBottom:"35px",justifyContent:"center",alignItems:"center"})),C=(0,d.ZP)(y.Z)(()=>({textTransform:"none",padding:"12px 30px",fontSize:"18px"}));C.defaultProps={color:"success"};let S=(0,d.ZP)(o.Z)(()=>({fontSize:"36px",width:"283px",textAlign:"center"}));var k=e=>{let{name:t}=e;return(0,n.jsx)(S,{children:t})},F=r(1519);let _=(0,d.ZP)(j())(()=>({borderRadius:"7px",boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.25)",marginBottom:"14px"}));_.defaultProps={width:283,height:178};let E=(0,d.ZP)(o.Z)(()=>({marginBottom:"5px",fontSize:"22px"})),I=(0,d.ZP)(F.Z)(()=>({marginBottom:"11px"}));var T=r(8441),D=r(8962);let M=(0,d.ZP)(T.Z)(()=>({height:8,borderRadius:4,marginBottom:"11px",boxShadow:"0px 1px 3px 0px rgba(0, 0, 0, 0.25)",["&.".concat(D.Z.colorPrimary)]:{backgroundColor:"#D9D9D9"},["& .".concat(D.Z.bar)]:{borderRadius:4,backgroundColor:"#00FF00"},minWidth:"100px"})),z=(0,d.ZP)(o.Z)(()=>({marginBottom:"5px"}));var O=e=>{let{name:t,value:r}=e;return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(z,{variant:"caption",children:t}),(0,n.jsx)(M,{variant:"determinate",value:r})]})},R=e=>{let{selectedMonster:t}=e;return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(_,{src:t.imageUrl,alt:t.name}),(0,n.jsx)(E,{"data-testid":"cypress-selected-computer",children:t.name}),(0,n.jsx)(I,{}),(0,n.jsx)(O,{name:"HP",value:t.hp}),(0,n.jsx)(O,{name:"Attack",value:t.attack}),(0,n.jsx)(O,{name:"Defense",value:t.defense}),(0,n.jsx)(O,{name:"Speed",value:t.speed})]})},N=r(6242);let L=(0,d.ZP)(N.Z)(e=>{let{selected:t}=e;return{padding:"12px",height:"415px",display:"flex",justifyContent:"center",alignItems:t?"start":"center"}});var U=e=>{let{name:t,monsterId:r,monsterList:a}=e,i=null,s=a.find(e=>e.id===r);return i=r&&s?(0,n.jsx)(R,{selectedMonster:s}):(0,n.jsx)(k,{name:t}),(0,n.jsx)(L,{selected:!!r,children:i})};let W=(0,d.ZP)(l.Z)(()=>({borderRadius:"4px",boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.25)",marginBottom:"35px",backgroundColor:"#E1F8FF",padding:"18px 28px",width:"100%",border:"1px solid black"})),A=(0,d.ZP)(o.Z)(()=>({fontSize:"22px"}));var X=e=>{let{winner:t}=e;return(0,n.jsx)(W,{"data-testid":"cypress-winner",children:(0,n.jsxs)(A,{children:[t," wins!"]})})},H=r(9290);let J="http://localhost:3001",Q={"Content-type":"application/json; charset=UTF-8"},V=async(e,t)=>{let r=await fetch("".concat(J).concat("/battle"),{method:"POST",body:JSON.stringify({monster1Id:e,monster2Id:t}),headers:Q});return await r.json()},Y=async()=>{let e=await fetch("".concat(J).concat("/monsters"));return await e.json()};var q=()=>{let e=(0,w.v9)(b.MO),t=(0,w.v9)(b.fE),r=(0,w.v9)(b.FC),a=(0,w.v9)(b.el),i=(0,w.I0)(),[s,o]=(0,u.useState)(!1),d=async()=>{i((0,b.wt)(!0)),i((0,b.uj)("")),setTimeout(async()=>{try{let r=await V(e,t);i((0,b.uj)(r.winner.name))}catch(e){o(!0)}i((0,b.wt)(!1))},1e3)};return(0,n.jsxs)(l.Z,{children:[s?(0,n.jsx)(H.Z,{severity:"error",sx:{marginBottom:"35px"},children:"Error during the battle. Please try again later."}):a&&(0,n.jsx)(X,{winner:a}),(0,n.jsxs)(B,{children:[(0,n.jsx)(U,{name:"Player",monsterId:e,monsterList:r}),(0,n.jsx)(C,{disabled:!t,onClick:d,variant:"contained",children:"Start Battle"}),(0,n.jsx)(U,{name:"Computer",monsterId:t,monsterList:r})]})]})},G=r(9122),K=r(8456);let $=(0,d.ZP)(K.Z)(()=>({color:"#00FF00",zIndex:100}));var ee=()=>{let e=(0,w.v9)(b.Vc);return(0,n.jsx)(G.Z,{"data-testid":"loading",open:e,children:(0,n.jsx)($,{})})};let et=(0,d.ZP)(l.Z)(()=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}));var er=()=>{let e=(0,w.I0)(),[t,r]=(0,u.useState)(!1),a=(0,u.useCallback)(async()=>{e((0,b.wt)(!0)),setTimeout(async()=>{try{let t=await Y();e((0,b.hB)(t))}catch(e){r(!0)}e((0,b.wt)(!1))},1e3)},[e]);return(0,u.useEffect)(()=>{a()},[a]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{children:(0,n.jsx)(et,{children:t?(0,n.jsx)(H.Z,{severity:"error",children:"Error! Reload the page and try again."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{}),(0,n.jsx)(q,{})," "]})})}),(0,n.jsx)(ee,{})]})};function en(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Battle of Monsters"}),(0,n.jsx)("meta",{name:"description",content:"Battle of Monsters"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{children:(0,n.jsx)(er,{})})]})}}},function(e){e.O(0,[407,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);